<script src="https://cdn.jsdelivr.net/gh/netizenorg/netnet-standard-library/build/nn.min.js"></script>
<script>
  
/* global nn */
const filename = 'swanky-guitar.mp3'

let music

async function remix() {
  music.volume = nn.random(0.1, 0.5)
  music.currentTime = nn.random(0, music.duration)
  const time = nn.random(250, 500)
  await nn.sleep(time)
  remix()
}

function setup(){
  music = nn.create('audio')
  .set({
    src: filename,
    controls: true
  })
  .addTo('body')
  .on('loadeddata', remix)
}

function animate(){
  requestAnimationFrame(animate)
  //console.log(music.currentTime)
  //console.log(music.volume)
}

nn.on('load', setup)
nn.on('load', animate)
  
</script>